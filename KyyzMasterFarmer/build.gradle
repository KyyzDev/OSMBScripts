plugins {
    id 'java'
}

compileJava.options.encoding = 'UTF-8'

repositories {
    mavenCentral()
    maven { url "https://repo1.maven.org/maven2" }
    maven { url "https://openpnp.github.io/maven" }
    google()
    flatDir {
        dirs '../../'
    }
}

dependencies {
    implementation name: 'API'
}

jar {
    archiveFileName = 'KyyzMasterFarmer.jar'
    destinationDirectory = file('jar/')

    manifest {
        attributes(
                'Manifest-Version': '1.0',
                'Created-By': 'Kyyz'
        )
    }

    doLast {
        def targetDir = file('C:/Users/kyleg/.osmb/Scripts')
        def jarFile = archiveFile.get().asFile

        copy {
            from jarFile
            into targetDir
        }

        println "âœ… Copied ${jarFile.name} to ${targetDir}"
    }
}
